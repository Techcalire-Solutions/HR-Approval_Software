
<div fxLayout="row wrap">
  <div fxFlex="100" class="p-2">
    <mat-card class="block p-0">
      <div class="bg-primary">
        <div fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between center" class="w-100">
          <div>
            <button mat-icon-button mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate" class="default-contrast">
              <mat-icon>chevron_left</mat-icon>
            </button>
            <button mat-icon-button mwlCalendarToday [(viewDate)]="viewDate" class="default-contrast">
              <mat-icon>today</mat-icon>
            </button>
            <button mat-icon-button mwlCalendarNextView [view]="view" [(viewDate)]="viewDate" class="default-contrast">
              <mat-icon>chevron_right</mat-icon>
            </button>
          </div>
          <h2>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h2>
          <div>
           <!-- Update the view assignment using CalendarView enum -->
<button mat-icon-button (click)="view = CalendarView.Month" class="default-contrast">
  <mat-icon>view_comfy</mat-icon>
</button>
<button mat-icon-button (click)="view = CalendarView.Week" class="default-contrast">
  <mat-icon>view_week</mat-icon>
</button>
<button mat-icon-button (click)="view = CalendarView.Day" class="default-contrast">
  <mat-icon>view_day</mat-icon>
</button>

          </div>
        </div>
      </div>

      <div [ngSwitch]="view">
        <mwl-calendar-month-view *ngSwitchCase="'month'"
            [viewDate]="viewDate"
            [events]="events"
            [refresh]="refresh"
            [activeDayIsOpen]="activeDayIsOpen"
            (dayClicked)="dayClicked($event.day)">
        </mwl-calendar-month-view>

        <mwl-calendar-week-view *ngSwitchCase="'week'"
            [viewDate]="viewDate"
            [events]="events"
            [refresh]="refresh">
        </mwl-calendar-week-view>

        <mwl-calendar-day-view *ngSwitchCase="'day'"
            [viewDate]="viewDate"
            [events]="events"
            [refresh]="refresh">
        </mwl-calendar-day-view>
      </div>

      <div *ngIf="selectedLeaves.length > 0">
        <h3>Leaves on {{ viewDate | date }}</h3>
        <div *ngFor="let leave of selectedLeaves">
          <mat-card>
            <div>{{ leave.userId }} requested leave for {{ leave.noOfDays }} days.</div>
            <div>{{ leave.notes }}</div>
            <button mat-button color="primary" (click)="approveLeave(leave.id)">Approve</button>
            <button mat-button color="warn" (click)="rejectLeave(leave.id)">Reject</button>
          </mat-card>
        </div>
      </div>
    </mat-card>
  </div>
</div>
